## Alembic Revision Downgrade

In the previous step, we created a new column (`phone_number`) in the `users` table using an Alembic upgrade.
Now let’s see how to **revert** that change using Alembic downgrade.

### Step 1: Update Downgrade Function

Go to the same revision file and edit the `downgrade` function:

```python
def downgrade() -> None:
    op.drop_column('users', 'phone_number')
```

### Step 2: Run Downgrade Command

In your terminal, run:

```bash
alembic downgrade -1
```

- This reverts the **last applied migration**.
- In this case, it removes the `phone_number` column from the `users` table.

### Step 3: Verify in FastAPI

1. Run your FastAPI application.
2. Open Swagger UI and try to log in / get user information.
3. You will now see an **error** — because we still have `phone_number` in our **Users model**, but the column no longer exists in the DB.

### Step 4: Fix the Model

- Remove the `phone_number` column line from the `Users` model in **models.py**.
- Refresh Swagger UI → You can log in successfully again.
- Now `phone_number` is no longer part of the user info.

### Key Point

- **Alembic** is used to apply schema changes (migrations) to tables that already exist.
- If you create a completely new model in `models.py`, **SQLAlchemy will create that table automatically** when running `Base.metadata.create_all()`.
