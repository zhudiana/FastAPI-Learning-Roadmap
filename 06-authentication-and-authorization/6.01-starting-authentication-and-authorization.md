## Authentication and Authorization

In this section, we’ll start learning how to implement **authentication** and **authorization** in FastAPI.

Up to this point, all our CRUD endpoints have been inside `main.py`. To keep things clean and organized, we’ll separate authentication logic into its own file.

### Step 1: Create a New File `auth.py`

Inside the `TodoApp` folder, create a new file named `auth.py`.

Add the following code:

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/auth/")
def get_user():
    return {"user": "authenticated"}
```

- We created a new **FastAPI app instance** inside `auth.py`.
- Defined a simple endpoint at `/auth/` which returns a JSON response:

  ```json
  { "user": "authenticated" }
  ```

### Important Note

If we run `main.py` now, we **won’t see the `/auth/` endpoint** in Swagger UI.

- That’s because `auth.py` is a **separate FastAPI application**.
- Swagger UI only shows endpoints from the application you actually run (`main.py`).
- To see `/auth/`, you would need to run `auth.py` separately with:

  ```bash
  uvicorn auth:app --reload
  ```

But running two apps separately is not what we want — we want **all endpoints (CRUD + auth)** to appear under **one FastAPI app**.

In the next section, we’ll learn how to use **APIRouter**.
With `APIRouter`, we can keep our endpoints in different files (like `auth.py` and `main.py`) but still run them together inside **one FastAPI application**.
