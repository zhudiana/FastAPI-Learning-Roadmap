## Get Todo by ID

In this section, we’ll create an endpoint to fetch a **single todo by its ID**. Since the `id` column is our **primary key**, each todo has a unique identifier.

```python
from fastapi import Depends, FastAPI, HTTPException, Path, status

@app.get("/todo/{todo_id}", status_code=status.HTTP_200_OK)
def read_todo(db: db_dependency, todo_id: int = Path(gt=0)):
    todo_model = db.query(Todos).filter(Todos.id == todo_id).first()
    if todo_model is not None:
        return todo_model
    raise HTTPException(status_code=404, detail="Todo not found")
```

### 1. Path Parameter

- The endpoint path is `/todo/{todo_id}`.
- `{todo_id}` is a **path parameter** → when the client makes a request like `/todo/3`, the value `3` is passed to the function.
- `todo_id: int = Path(gt=0)`:

  - Ensures `todo_id` must be an integer.
  - `gt=0` means it must be **greater than zero**.
  - If a user tries `/todo/0` or `/todo/-5`, FastAPI automatically raises a validation error.

### 2. Querying the Database

```python
db.query(Todos).filter(Todos.id == todo_id).first()
```

- Queries the `Todos` table for a record where `id == todo_id`.
- `.first()` returns the **first matching record** (or `None` if not found).
- Since `id` is a **primary key**, there can only be one match.

### 3. Handling Missing Todos

```python
if todo_model is not None:
    return todo_model
raise HTTPException(status_code=404, detail="Todo not found")
```

- If a todo is found, return it.
- If not, raise an `HTTPException` with:

  - `status_code=404` → Not Found.
  - `detail="Todo not found"` → error message returned to the client.

### 4. Status Codes

We explicitly set:

```python
status_code=status.HTTP_200_OK
```

- If the request succeeds, it returns HTTP **200 OK**.
- If the todo doesn’t exist, we raise a **404 Not Found** error.
