## Deleting a To-Do

In this section, we’ll create a **DELETE endpoint** that removes a todo from the database.

```python
from fastapi import Path, HTTPException, status

@app.delete("/todo/{todo_id}", status_code=status.HTTP_204_NO_CONTENT)
def delete_todo(db: db_dependency, todo_id: int = Path(gt=0)):
    todo_model = db.query(Todos).filter(Todos.id == todo_id).first()

    if todo_model is None:
        raise HTTPException(status_code=404, detail="Todo not found")

    db.query(Todos).filter(Todos.id == todo_id).delete()
    db.commit()
```

### 1. Path Parameter

```python
todo_id: int = Path(gt=0)
```

- Accepts the todo ID as part of the path (`/todo/3`).
- `gt=0` ensures the ID must be greater than zero.

### 2. Checking if the Todo Exists

```python
todo_model = db.query(Todos).filter(Todos.id == todo_id).first()
```

- Queries the database for the todo with the given `id`.
- `.first()` will return the todo if found, otherwise `None`.

### 3. Handling Missing Todos

```python
if todo_model is None:
    raise HTTPException(status_code=404, detail="Todo not found")
```

- If the todo doesn’t exist, raise a **404 Not Found** error.
- This prevents us from trying to delete something that doesn’t exist.

### 4. Deleting the Todo

```python
db.query(Todos).filter(Todos.id == todo_id).delete()
db.commit()
```

- Filters the todo by ID again and deletes it.
- `db.commit()` finalizes the change and removes the record permanently from the database.
